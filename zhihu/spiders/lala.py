coding = "utf-8"
import scrapy
import re
import io
import sys
import json
sys.stdout = io.TextIOWrapper(sys.stdout.buffer,encoding='gb18030')#'gb18030'|

class LalaSpider(scrapy.Spider):
    name = 'lala'
    allowed_domains = ['zhihu.com','httpbin.org']
    start_urls = ['https://www.zhihu.com/people/zhang-jia-wei/activities']

    def start_requests(self):
        # cookies = """_zap=554e65d0-a4bb-4b15-b9ea-ae392fb669ad; d_c0=AGCoRLW6ag6PThEZ7kamy-PooIwtaDPRA4w=|1540460652; q_c1=96d1efefc8bd496db21c38fb972b7815|1540460655000|1540460655000; _xsrf=4oRmyeKPQrCZhmRVbr94CdUs62Eh0Jbu; l_cap_id=ZDcyZjkxN2EyOTM4NDM1ZTk1MGFhODE5ZjM3MmUwMGM=|1540622756|f85307f0cfa632e29a7da5fde50f3bbb01e417bc; r_cap_id=OWY4NWYwMTYyOTJiNGQxZGI4NWM2OTFlNTE4Y2U2NWY=|1540622756|de1751cb3698cfba15afb00587a4c1f4fb76d84d; cap_id=Yzk2N2Q3NjliNzA2NDU4N2EzM2VlNDQ0YzI1MDcwOTg=|1540622756|90c21a5f2e25ef91ff2cae737bad3e33954ddf18; __gads=ID=77a7ff089bde8375:T=1540693845:S=ALNI_MZmQ5jTX3rUS1oo9P7EKaJimBq1Gw; _ga=GA1.2.1378665705.1540698352; capsion_ticket=2|1:0|10:1541135343|14:capsion_ticket|44:NTQ3ZThhOGEyOTMxNGE5N2I0ZWQ3OWYyMWVhYTU1NGM=|858a6770fbd2b62fb3ef503d2bc6321b0a4fafe52172129bb6497d01890440de; z_c0=2|1:0|10:1541135351|4:z_c0|92:Mi4xby1NeUFBQUFBQUFBWUtoRXRicHFEaVlBQUFCZ0FsVk45eW5KWEFBS0JjNjZNWEFvbm1BcUk5ZTNjbnFuRTZqb0VB|9e1a5ba808db3a3994ee21c117190ec4aed99e474976b86e42022268a30f9f65; tst=f; __utma=51854390.1378665705.1540698352.1541135753.1541135753.1; __utmc=51854390; __utmz=51854390.1541135753.1.1.utmcsr=zhihu.com|utmccn=(referral)|utmcmd=referral|utmcct=/follow; __utmv=51854390.100-1|2=registration_date=20140130=1^3=entry_date=20140130=1; tgw_l7_route=8605c5a961285724a313ad9c1bbbc186"""
        # cookies = """top_multi_model=0;top_ebook=0;top_manual_tag=1;top_nid=0;top_raf=n;top_hqt=9;top_uit=0;se_major_onebox=major;top_an=0;top_retagg=0;top_tagore_topic=0;top_tag_isolation=0;top_ad_slot=1;top_billboard_count=1;top_feedre_cpt=101;top_free_content=-1;top_recommend_topic_card=0;pin_efs=orig;se_new_market_search=off;top_feedre_itemcf=31;top_sj=2;top_v_album=0;top_mlt_model=0;se_dl=0;se_entity=on;top_feedre=1;top_gif=0;top_new_user_gift=0;se_consulting_switch=off;top_billab=0;se_rescore=1;top_billread=1;top_wonderful=1;top_root=1;tp_sft=a;se_consulting_price=n;tp_discussion_feed_type_android=0;se_refactored_search_index=0;top_recall=1;top_recall_tb=1;top_newfollow=0;top_hca=0;top_dtmt=2;top_follow_question_hybrid=0;top_memberfree=1;top_vdio_rew=4;ls_new_video=0;se_gemini_service=content;se_merger=1;tp_discussion_feed_card_type=0;top_30=0;top_universalebook=1;top_recall_tb_long=51;top_vds_alb_pos=0;tp_ios_topic_write_pin_guide=1;top_nuc=0;top_root_mg=1;top_billupdate1=3;top_gr_auto_model=0;se_cm=0;top_lowup=1;se_gi=1;top_ab_validate=6;top_recall_tb_follow=71;top_gr_model=0;top_recall_deep_user=1;top_tagore=1;top_tffrt=0;top_tmt=0;se_tf=1;top_keywordab=0;top_newfollowans=0;top_alt=0;top_ntr=1;top_adpar=0;top_promo=1;top_rank=3;top_nad=1;top_sjre=0;top_tuner_refactor=-1;zr_ans_rec=gbrank;se_daxuechuisou=new;top_root_ac=1;top_topic_feedre=21;top_billpic=0;top_retag=0;top_no_weighing=1;top_user_gift=0;top_f_r_nb=1;top_nucc=0;top_tr=0;top_vd_gender=0;top_login_card=1;top_video_fix_position=0;top_keyword=0;top_billvideo=0;top_hweb=0;top_nszt=0;top_feedtopiccard=0;top_feedre_rtt=41;top_fqai=0;top_pfq=0;top_videos_priority=-1;top_recall_core_interest=81;top_recall_follow_user=91;top_test_4_liguangyi=1;top_spec_promo=1;se_dt=1;top_recall_tb_short=61;se_product_rank_list=0;top_is_gr=0;top_root_web=0;top_vd_op=3;top_follow_reason=0;top_yhgc=1;se_auto_syn=0;se_wiki_box=1;top_followtop=1;top_root_few_topic=0;top_yc=0;tp_write_pin_guide=3;top_ac_merge=0;ls_play_continuous_order=2;se_correct_ab=0;se_ingress=on;pin_ef=orig;top_quality=0;top_gr_topic_reweight=0;se_relevant_query=old;top_cc_at=1;top_video_rew=0;top_slot_ad_pos=1;top_distinction=0;top_card=-1;top_nmt=0;se_minor_onebox=d;top_bill=0;top_local=2;top_video_score=1;top_fqa=0;top_roundtable=1"""
        # cookies = "_zap=554e65d0-a4bb-4b15-b9ea-ae392fb669ad; d_c0=AGCoRLW6ag6PThEZ7kamy-PooIwtaDPRA4w=|1540460652; q_c1=96d1efefc8bd496db21c38fb972b7815|1540460655000|1540460655000; _xsrf=4oRmyeKPQrCZhmRVbr94CdUs62Eh0Jbu; l_cap_id=ZDcyZjkxN2EyOTM4NDM1ZTk1MGFhODE5ZjM3MmUwMGM=|1540622756|f85307f0cfa632e29a7da5fde50f3bbb01e417bc; r_cap_id=OWY4NWYwMTYyOTJiNGQxZGI4NWM2OTFlNTE4Y2U2NWY=|1540622756|de1751cb3698cfba15afb00587a4c1f4fb76d84d; cap_id=Yzk2N2Q3NjliNzA2NDU4N2EzM2VlNDQ0YzI1MDcwOTg=|1540622756|90c21a5f2e25ef91ff2cae737bad3e33954ddf18; __gads=ID=77a7ff089bde8375:T=1540693845:S=ALNI_MZmQ5jTX3rUS1oo9P7EKaJimBq1Gw; _ga=GA1.2.1378665705.1540698352; tst=f; capsion_ticket=2|1:0|10:1541214610|14:capsion_ticket|44:ZWU3MmNiMmIxMGY4NGY3MWJiOTNhNDA4M2QxZmQ1YWM=|a66a2dcccba6c47c8ae560c4d944b5987ad3dfbd3c1994593d3c3fc299e2b445; z_c0=2|1:0|10:1541214818|4:z_c0|92:Mi4xdjB0bUNRQUFBQUFBWUtoRXRicHFEaVlBQUFCZ0FsVk5ZbURLWEFBRkdjOTN3VUFpX0VGVG5GS0FZbnNKSHZNUnV3|e319a4854eac54dd63e0ce7c18b31b40832d34e46fe26c9def1923c2feb32fc1; __utma=51854390.1378665705.1540698352.1541215002.1541215002.1; __utmc=51854390; __utmz=51854390.1541215002.1.1.utmcsr=zhihu.com|utmccn=(referral)|utmcmd=referral|utmcct=/question/300941338/answer/523160601; __utmv=51854390.100--|2=registration_date=20180512=1^3=entry_date=20180512=1; tgw_l7_route=c919f0a0115842464094a26115457122"
        # cookies = "_zap=554e65d0-a4bb-4b15-b9ea-ae392fb669ad; d_c0=AGCoRLW6ag6PThEZ7kamy-PooIwtaDPRA4w=|1540460652; q_c1=96d1efefc8bd496db21c38fb972b7815|1540460655000|1540460655000; _xsrf=4oRmyeKPQrCZhmRVbr94CdUs62Eh0Jbu; l_cap_id=ZDcyZjkxN2EyOTM4NDM1ZTk1MGFhODE5ZjM3MmUwMGM=|1540622756|f85307f0cfa632e29a7da5fde50f3bbb01e417bc; r_cap_id=OWY4NWYwMTYyOTJiNGQxZGI4NWM2OTFlNTE4Y2U2NWY=|1540622756|de1751cb3698cfba15afb00587a4c1f4fb76d84d; cap_id=Yzk2N2Q3NjliNzA2NDU4N2EzM2VlNDQ0YzI1MDcwOTg=|1540622756|90c21a5f2e25ef91ff2cae737bad3e33954ddf18; __gads=ID=77a7ff089bde8375:T=1540693845:S=ALNI_MZmQ5jTX3rUS1oo9P7EKaJimBq1Gw; _ga=GA1.2.1378665705.1540698352; tst=f; capsion_ticket=2|1:0|10:1541214610|14:capsion_ticket|44:ZWU3MmNiMmIxMGY4NGY3MWJiOTNhNDA4M2QxZmQ1YWM=|a66a2dcccba6c47c8ae560c4d944b5987ad3dfbd3c1994593d3c3fc299e2b445; z_c0=2|1:0|10:1541214818|4:z_c0|92:Mi4xdjB0bUNRQUFBQUFBWUtoRXRicHFEaVlBQUFCZ0FsVk5ZbURLWEFBRkdjOTN3VUFpX0VGVG5GS0FZbnNKSHZNUnV3|e319a4854eac54dd63e0ce7c18b31b40832d34e46fe26c9def1923c2feb32fc1; __utma=51854390.1378665705.1540698352.1541215002.1541215002.1; __utmc=51854390; __utmz=51854390.1541215002.1.1.utmcsr=zhihu.com|utmccn=(referral)|utmcmd=referral|utmcct=/question/300941338/answer/523160601; __utmv=51854390.100--|2=registration_date=20180512=1^3=entry_date=20180512=1; tgw_l7_route=b3dca7eade474617fe4df56e6c4934a3"
        # cookies = "_zap=554e65d0-a4bb-4b15-b9ea-ae392fb669ad; d_c0=AGCoRLW6ag6PThEZ7kamy-PooIwtaDPRA4w=|1540460652; q_c1=96d1efefc8bd496db21c38fb972b7815|1540460655000|1540460655000; _xsrf=4oRmyeKPQrCZhmRVbr94CdUs62Eh0Jbu; l_cap_id=ZDcyZjkxN2EyOTM4NDM1ZTk1MGFhODE5ZjM3MmUwMGM=|1540622756|f85307f0cfa632e29a7da5fde50f3bbb01e417bc; r_cap_id=OWY4NWYwMTYyOTJiNGQxZGI4NWM2OTFlNTE4Y2U2NWY=|1540622756|de1751cb3698cfba15afb00587a4c1f4fb76d84d; cap_id=Yzk2N2Q3NjliNzA2NDU4N2EzM2VlNDQ0YzI1MDcwOTg=|1540622756|90c21a5f2e25ef91ff2cae737bad3e33954ddf18; __gads=ID=77a7ff089bde8375:T=1540693845:S=ALNI_MZmQ5jTX3rUS1oo9P7EKaJimBq1Gw; _ga=GA1.2.1378665705.1540698352; tst=f; capsion_ticket=2|1:0|10:1541214610|14:capsion_ticket|44:ZWU3MmNiMmIxMGY4NGY3MWJiOTNhNDA4M2QxZmQ1YWM=|a66a2dcccba6c47c8ae560c4d944b5987ad3dfbd3c1994593d3c3fc299e2b445; z_c0=2|1:0|10:1541214818|4:z_c0|92:Mi4xdjB0bUNRQUFBQUFBWUtoRXRicHFEaVlBQUFCZ0FsVk5ZbURLWEFBRkdjOTN3VUFpX0VGVG5GS0FZbnNKSHZNUnV3|e319a4854eac54dd63e0ce7c18b31b40832d34e46fe26c9def1923c2feb32fc1; __utma=51854390.1378665705.1540698352.1541215002.1541215002.1; __utmc=51854390; __utmz=51854390.1541215002.1.1.utmcsr=zhihu.com|utmccn=(referral)|utmcmd=referral|utmcct=/question/300941338/answer/523160601; __utmv=51854390.100--|2=registration_date=20180512=1^3=entry_date=20180512=1; tgw_l7_route=931b604f0432b1e60014973b6cd4c7bc"
        # cookies = "_zap=554e65d0-a4bb-4b15-b9ea-ae392fb669ad; d_c0=AGCoRLW6ag6PThEZ7kamy-PooIwtaDPRA4w=|1540460652; q_c1=96d1efefc8bd496db21c38fb972b7815|1540460655000|1540460655000; _xsrf=4oRmyeKPQrCZhmRVbr94CdUs62Eh0Jbu; l_cap_id=ZDcyZjkxN2EyOTM4NDM1ZTk1MGFhODE5ZjM3MmUwMGM=|1540622756|f85307f0cfa632e29a7da5fde50f3bbb01e417bc; r_cap_id=OWY4NWYwMTYyOTJiNGQxZGI4NWM2OTFlNTE4Y2U2NWY=|1540622756|de1751cb3698cfba15afb00587a4c1f4fb76d84d; cap_id=Yzk2N2Q3NjliNzA2NDU4N2EzM2VlNDQ0YzI1MDcwOTg=|1540622756|90c21a5f2e25ef91ff2cae737bad3e33954ddf18; __gads=ID=77a7ff089bde8375:T=1540693845:S=ALNI_MZmQ5jTX3rUS1oo9P7EKaJimBq1Gw; _ga=GA1.2.1378665705.1540698352; tst=f; capsion_ticket=2|1:0|10:1541214610|14:capsion_ticket|44:ZWU3MmNiMmIxMGY4NGY3MWJiOTNhNDA4M2QxZmQ1YWM=|a66a2dcccba6c47c8ae560c4d944b5987ad3dfbd3c1994593d3c3fc299e2b445; z_c0=2|1:0|10:1541214818|4:z_c0|92:Mi4xdjB0bUNRQUFBQUFBWUtoRXRicHFEaVlBQUFCZ0FsVk5ZbURLWEFBRkdjOTN3VUFpX0VGVG5GS0FZbnNKSHZNUnV3|e319a4854eac54dd63e0ce7c18b31b40832d34e46fe26c9def1923c2feb32fc1; __utma=51854390.1378665705.1540698352.1541215002.1541215002.1; __utmc=51854390; __utmz=51854390.1541215002.1.1.utmcsr=zhihu.com|utmccn=(referral)|utmcmd=referral|utmcct=/question/300941338/answer/523160601; __utmv=51854390.100--|2=registration_date=20180512=1^3=entry_date=20180512=1; tgw_l7_route=b3dca7eade474617fe4df56e6c4934a3"
        # cookies = "_zap=554e65d0-a4bb-4b15-b9ea-ae392fb669ad; d_c0=AGCoRLW6ag6PThEZ7kamy-PooIwtaDPRA4w=|1540460652; q_c1=96d1efefc8bd496db21c38fb972b7815|1540460655000|1540460655000; _xsrf=4oRmyeKPQrCZhmRVbr94CdUs62Eh0Jbu; l_cap_id=ZDcyZjkxN2EyOTM4NDM1ZTk1MGFhODE5ZjM3MmUwMGM=|1540622756|f85307f0cfa632e29a7da5fde50f3bbb01e417bc; r_cap_id=OWY4NWYwMTYyOTJiNGQxZGI4NWM2OTFlNTE4Y2U2NWY=|1540622756|de1751cb3698cfba15afb00587a4c1f4fb76d84d; cap_id=Yzk2N2Q3NjliNzA2NDU4N2EzM2VlNDQ0YzI1MDcwOTg=|1540622756|90c21a5f2e25ef91ff2cae737bad3e33954ddf18; __gads=ID=77a7ff089bde8375:T=1540693845:S=ALNI_MZmQ5jTX3rUS1oo9P7EKaJimBq1Gw; _ga=GA1.2.1378665705.1540698352; tst=f; capsion_ticket=2|1:0|10:1541214610|14:capsion_ticket|44:ZWU3MmNiMmIxMGY4NGY3MWJiOTNhNDA4M2QxZmQ1YWM=|a66a2dcccba6c47c8ae560c4d944b5987ad3dfbd3c1994593d3c3fc299e2b445; z_c0=2|1:0|10:1541214818|4:z_c0|92:Mi4xdjB0bUNRQUFBQUFBWUtoRXRicHFEaVlBQUFCZ0FsVk5ZbURLWEFBRkdjOTN3VUFpX0VGVG5GS0FZbnNKSHZNUnV3|e319a4854eac54dd63e0ce7c18b31b40832d34e46fe26c9def1923c2feb32fc1; __utma=51854390.1378665705.1540698352.1541215002.1541215002.1; __utmc=51854390; __utmz=51854390.1541215002.1.1.utmcsr=zhihu.com|utmccn=(referral)|utmcmd=referral|utmcct=/question/300941338/answer/523160601; __utmv=51854390.100--|2=registration_date=20180512=1^3=entry_date=20180512=1; tgw_l7_route=b3dca7eade474617fe4df56e6c4934a3"
        cookies = "_zap=554e65d0-a4bb-4b15-b9ea-ae392fb669ad; d_c0=AGCoRLW6ag6PThEZ7kamy-PooIwtaDPRA4w=|1540460652; q_c1=96d1efefc8bd496db21c38fb972b7815|1540460655000|1540460655000; _xsrf=4oRmyeKPQrCZhmRVbr94CdUs62Eh0Jbu; l_cap_id=ZDcyZjkxN2EyOTM4NDM1ZTk1MGFhODE5ZjM3MmUwMGM=|1540622756|f85307f0cfa632e29a7da5fde50f3bbb01e417bc; r_cap_id=OWY4NWYwMTYyOTJiNGQxZGI4NWM2OTFlNTE4Y2U2NWY=|1540622756|de1751cb3698cfba15afb00587a4c1f4fb76d84d; cap_id=Yzk2N2Q3NjliNzA2NDU4N2EzM2VlNDQ0YzI1MDcwOTg=|1540622756|90c21a5f2e25ef91ff2cae737bad3e33954ddf18; __gads=ID=77a7ff089bde8375:T=1540693845:S=ALNI_MZmQ5jTX3rUS1oo9P7EKaJimBq1Gw; _ga=GA1.2.1378665705.1540698352; tst=f; capsion_ticket=2|1:0|10:1541214610|14:capsion_ticket|44:ZWU3MmNiMmIxMGY4NGY3MWJiOTNhNDA4M2QxZmQ1YWM=|a66a2dcccba6c47c8ae560c4d944b5987ad3dfbd3c1994593d3c3fc299e2b445; z_c0=2|1:0|10:1541214818|4:z_c0|92:Mi4xdjB0bUNRQUFBQUFBWUtoRXRicHFEaVlBQUFCZ0FsVk5ZbURLWEFBRkdjOTN3VUFpX0VGVG5GS0FZbnNKSHZNUnV3|e319a4854eac54dd63e0ce7c18b31b40832d34e46fe26c9def1923c2feb32fc1; __utma=51854390.1378665705.1540698352.1541215002.1541215002.1; __utmc=51854390; __utmz=51854390.1541215002.1.1.utmcsr=zhihu.com|utmccn=(referral)|utmcmd=referral|utmcct=/question/300941338/answer/523160601; __utmv=51854390.100--|2=registration_date=20180512=1^3=entry_date=20180512=1; tgw_l7_route=170010e948f1b2a2d4c7f3737c85e98c"
        cookies = "_zap=554e65d0-a4bb-4b15-b9ea-ae392fb669ad; d_c0=AGCoRLW6ag6PThEZ7kamy-PooIwtaDPRA4w=|1540460652; q_c1=96d1efefc8bd496db21c38fb972b7815|1540460655000|1540460655000; _xsrf=4oRmyeKPQrCZhmRVbr94CdUs62Eh0Jbu; l_cap_id=ZDcyZjkxN2EyOTM4NDM1ZTk1MGFhODE5ZjM3MmUwMGM=|1540622756|f85307f0cfa632e29a7da5fde50f3bbb01e417bc; r_cap_id=OWY4NWYwMTYyOTJiNGQxZGI4NWM2OTFlNTE4Y2U2NWY=|1540622756|de1751cb3698cfba15afb00587a4c1f4fb76d84d; cap_id=Yzk2N2Q3NjliNzA2NDU4N2EzM2VlNDQ0YzI1MDcwOTg=|1540622756|90c21a5f2e25ef91ff2cae737bad3e33954ddf18; __gads=ID=77a7ff089bde8375:T=1540693845:S=ALNI_MZmQ5jTX3rUS1oo9P7EKaJimBq1Gw; _ga=GA1.2.1378665705.1540698352; tst=f; capsion_ticket=2|1:0|10:1541214610|14:capsion_ticket|44:ZWU3MmNiMmIxMGY4NGY3MWJiOTNhNDA4M2QxZmQ1YWM=|a66a2dcccba6c47c8ae560c4d944b5987ad3dfbd3c1994593d3c3fc299e2b445; z_c0=2|1:0|10:1541214818|4:z_c0|92:Mi4xdjB0bUNRQUFBQUFBWUtoRXRicHFEaVlBQUFCZ0FsVk5ZbURLWEFBRkdjOTN3VUFpX0VGVG5GS0FZbnNKSHZNUnV3|e319a4854eac54dd63e0ce7c18b31b40832d34e46fe26c9def1923c2feb32fc1; __utma=51854390.1378665705.1540698352.1541215002.1541215002.1; __utmc=51854390; __utmz=51854390.1541215002.1.1.utmcsr=zhihu.com|utmccn=(referral)|utmcmd=referral|utmcct=/question/300941338/answer/523160601; __utmv=51854390.100--|2=registration_date=20180512=1^3=entry_date=20180512=1; tgw_l7_route=170010e948f1b2a2d4c7f3737c85e98c"
        # cookies = "_zap=554e65d0-a4bb-4b15-b9ea-ae392fb669ad; d_c0=AGCoRLW6ag6PThEZ7kamy-PooIwtaDPRA4w=|1540460652; q_c1=96d1efefc8bd496db21c38fb972b7815|1540460655000|1540460655000; _xsrf=4oRmyeKPQrCZhmRVbr94CdUs62Eh0Jbu; l_cap_id=ZDcyZjkxN2EyOTM4NDM1ZTk1MGFhODE5ZjM3MmUwMGM=|1540622756|f85307f0cfa632e29a7da5fde50f3bbb01e417bc; r_cap_id=OWY4NWYwMTYyOTJiNGQxZGI4NWM2OTFlNTE4Y2U2NWY=|1540622756|de1751cb3698cfba15afb00587a4c1f4fb76d84d; cap_id=Yzk2N2Q3NjliNzA2NDU4N2EzM2VlNDQ0YzI1MDcwOTg=|1540622756|90c21a5f2e25ef91ff2cae737bad3e33954ddf18; __gads=ID=77a7ff089bde8375:T=1540693845:S=ALNI_MZmQ5jTX3rUS1oo9P7EKaJimBq1Gw; _ga=GA1.2.1378665705.1540698352; tst=f; capsion_ticket=2|1:0|10:1541214610|14:capsion_ticket|44:ZWU3MmNiMmIxMGY4NGY3MWJiOTNhNDA4M2QxZmQ1YWM=|a66a2dcccba6c47c8ae560c4d944b5987ad3dfbd3c1994593d3c3fc299e2b445; z_c0=2|1:0|10:1541214818|4:z_c0|92:Mi4xdjB0bUNRQUFBQUFBWUtoRXRicHFEaVlBQUFCZ0FsVk5ZbURLWEFBRkdjOTN3VUFpX0VGVG5GS0FZbnNKSHZNUnV3|e319a4854eac54dd63e0ce7c18b31b40832d34e46fe26c9def1923c2feb32fc1; __utma=51854390.1378665705.1540698352.1541215002.1541215002.1; __utmc=51854390; __utmz=51854390.1541215002.1.1.utmcsr=zhihu.com|utmccn=(referral)|utmcmd=referral|utmcct=/question/300941338/answer/523160601; __utmv=51854390.100--|2=registration_date=20180512=1^3=entry_date=20180512=1; tgw_l7_route=b3dca7eade474617fe4df56e6c4934a3"
        cookies = {i.split("=")[0]:i.split("=")[1] for i in cookies.split("; ")}
        yield scrapy.Request(self.start_urls[0],cookies = cookies,callback=self.parse)

    def parse(self, response):
        # print(response.body.decode())

        # url_proxy_ip = "http://httpbin.org/ip"
        url = "https://www.zhihu.com/api/v4/members/zhang-jia-wei/followers?include=data%5B*%5D.answer_count%2Carticles_count%2Cgender%2Cfollower_count%2Cis_followed%2Cis_following%2Cbadge%5B%3F(type%3Dbest_answerer)%5D.topics&offset=0&limit=20"
        yield scrapy.Request(url,callback=self.parse_detail)
        # yield scrapy.Request(url_proxy_ip,callback=self.parse_ip,dont_filter=True)




    def parse_detail(self,response):

        # print(response.status)
        js_str = response.body.decode()
        dic1 = json.loads(js_str)
        # print(dic1["data"])
        name = response.url.split("https://www.zhihu.com/api/v4/members/")[1]
        name = name.split("/")[0]
        if dic1["data"] is not None:
            item = {}
            item["from"] = name
        # name = name.replace("/","-").split("https:--www.zhihu.com-api-v4-members-zhang-jia-wei-followers?include=data%5B*%5D.answer_count%2Carticles_count%2Cgender%2Cfollower_count%2Cis_followed%2Cis_following%2Cbadge%5B%3F(type%3Dbest_answerer)%5D.topics&")[1]
        # print(name)
        # with open("{}.{}".format(name,"txt"),"w",encoding="utf-8") as f:
        #     for i in dic1["data"]:
        #         f.write(i["name"])
            if not dic1["paging"]["is_end"]:
                item["totals"] = dic1["paging"]["totals"]
                # item["next"] = dic1["paging"]["next"]
                item["page"] = int(dic1["paging"]["next"].split("=")[3])/20
                item["next"] = "https://www.zhihu.com/"+"api/v4/"+dic1["paging"]["next"].split("https://www.zhihu.com/")[1]
                # print(item["next"])
                for i in dic1["data"]:
                    item["name"] = i["name"]
                    item["gender"] = i["gender"]
                    item["url_token"] = i["url_token"]
                    item["is_followed"] = i["is_followed"]
                    item["answer_count"] = i["answer_count"]
                    item["follower_count"] = i["follower_count"]
                    item["id"] = i["id"]
                    item["gender"] = i["gender"]
                    item["avatar_url"] = i["avatar_url"]
                    item["url"] = i["url"]
                    item["is_org"] = i["is_org"]
                    item["headline"] = i["headline"]
                    item["is_followed"] = i["is_followed"]
                    yield item
                    yield scrapy.Request("https://www.zhihu.com/api/v4/members/"+item["url_token"]+"/followers?include=data%5B%2A%5D.answer_count%2Carticles_count%2Cgender%2Cfollower_count%2Cis_followed%2Cis_following%2Cbadge%5B%3F%28type%3Dbest_answerer%29%5D.topics&limit=20&offset=0",callback=self.parse_detail)
                yield scrapy.Request(item["next"],callback=self.parse_detail)
            # for i in range(2):
            #     yield scrapy.Request("http://httpbin.org/ip",callback=self.parse_ip,dont_filter=True)
"""https://www.zhihu.com/people/joey-91-9-30/activities"""
# def parse2(self, response):

    #     # print(response.body.decode())
    #
    #     item = response.meta["item"]
    #     item["from"] = re
    #     url = "https://www.zhihu.com/api/v4/members/{}/followers?include=data%5B*%5D.answer_count%2Carticles_count%2Cgender%2Cfollower_count%2Cis_followed%2Cis_following%2Cbadge%5B%3F(type%3Dbest_answerer)%5D.topics&offset=0&limit=20".format(item["url_token"])
    #     yield scrapy.Request(url,callback=self.parse_detail)
    # def parse_ip(self,response):
    #     print("*****************************************")
    #     print(response.body.decode())